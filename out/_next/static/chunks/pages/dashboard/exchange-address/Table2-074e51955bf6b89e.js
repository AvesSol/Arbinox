(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9535],{87841:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/exchange-address/Table2",function(){return n(16570)}])},16570:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var a=n(85893),s=n(67294),l=n(68611),i=n(5616),r=n(7906),o=n(295),d=n(53252),c=n(72882),u=n(53184),h=n(51069),x=n(53816),g=n(90629),m=n(87066),p=n(37265),Z=n(77957),f=n(46149),j=n(54345),b=n(93946),y=n(64666),k=n(6514),w=n(15861),C=n(31425),S=n(69417),v=n(11163),P=n(30381),_=n.n(P),N=n(86501);let W=[{id:"title",label:"Plan Name",minWidth:150},{id:"value",label:"Price",minWidth:120,align:"right"},{id:"noOfTrade",label:"No of Trade to execute",minWidth:120,align:"center"},{id:"noOfExchange",label:"Max no. of exchange",minWidth:120,align:"center"},{id:"status",label:"Status",minWidth:120,align:"center"},{id:"updatedAt",label:"Date & Time",minWidth:120,align:"center",format:"date"}];function T(){(0,s.useContext)(l.Z);let e=(0,v.useRouter)(),t=window.localStorage.getItem("user_token"),[n,P]=s.useState(0),[T,E]=s.useState(10),[M,O]=(0,s.useState)(""),[Y,A]=(0,s.useState)(null),[D,B]=(0,s.useState)(null),[I,F]=(0,s.useState)(!1),[L,U]=(0,s.useState)([]),[H,K]=(0,s.useState)(!0),[R,V]=(0,s.useState)(1),[X,G]=(0,s.useState)(!1),[q,z]=(0,s.useState)(),[J,Q]=(0,s.useState)(!1),$=e=>{G(!0),z(e)},ee=()=>{G(!1)};(0,s.useEffect)(()=>{I&&(K(!0),et())},[I]),(0,s.useEffect)(()=>{K(!0),et()},[n,T,M]);let et=async()=>{try{let e=await (0,m.Z)({method:"GET",url:p.lw.subscriptionPlanListWithFilter,params:{page:n,limit:T,search:""!==M?M:null,fromDate:D?_()(D).format("YYYY-MM-DDT00:00").toString():null,toDate:Y?_()(Y).format("YYYY-MM-DDT11:59").toString():null},headers:{token:t}});200===e.data.responseCode?(V(e.data.result.pages),E(e.data.result.limit),U(e.data.result.docs)):(V(1),E(10),P(1),U([])),K(!1),F(!1)}catch(e){console.log(e),F(!1),K(!1),V(1),E(10),P(1),U([])}},en=async e=>{Q(!0);try{let n=await (0,m.Z)({method:"PUT",url:p.lw.blockUnblockSubscriptionPlan,headers:{token:t},data:{subscriptionId:e}});200===n.data.responseCode?(N.ZP.success(n.data.responseMessage),Q(!1),G(!1),et()):(N.ZP.error(n.data.responseMessage),Q(!1))}catch(e){console.log(e),Q(!1),e.response?N.ZP.error(e.response.data.responseMessage):N.ZP.error(e.message)}};return(0,a.jsxs)(i.Z,{children:[(0,a.jsxs)(g.Z,{sx:{width:"100%",overflow:"hidden"},elevation:2,children:[(0,a.jsx)(c.Z,{sx:{maxHeight:440},children:(0,a.jsxs)(r.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,a.jsx)(u.Z,{children:(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(d.Z,{align:"center",children:"Sr. No."},"id"),W.map(e=>(0,a.jsx)(d.Z,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)),(0,a.jsx)(d.Z,{align:"center",children:"Action"},"Action")]})}),(0,a.jsx)(o.Z,{children:L&&L.map((t,n)=>(0,a.jsxs)(x.Z,{hover:!0,role:"checkbox",tabIndex:n+1,children:[(0,a.jsx)(d.Z,{align:"center",children:n+1},"Sr.No."),W.map(e=>{let n=t[e.id];return(0,a.jsx)(d.Z,{align:e.align,children:e.format&&"date"===e.format?_()(n).format("lll"):n},e.id)}),(0,a.jsxs)(d.Z,{children:[" ",(0,a.jsx)(b.Z,{onClick:()=>e.push({pathname:"/dashboard/add-pricing",search:null==t?void 0:t._id,hash:"view"}),children:(0,a.jsx)(f.Z,{})}),"\xa0\xa0\xa0",(0,a.jsx)(b.Z,{disabled:(null==t?void 0:t.status)==="BLOCK",onClick:()=>e.push({pathname:"/dashboard/add-pricing",search:null==t?void 0:t._id,hash:"edit"}),children:(0,a.jsx)(Z.Z,{})}),"\xa0\xa0\xa0",(0,a.jsx)(b.Z,{style:(null==t?void 0:t.status)==="BLOCK"?{color:"red"}:{color:"green"},onClick:()=>$(t),children:(0,a.jsx)(j.Z,{})})]})]},t.code))})]})}),R>1&&(0,a.jsx)(h.Z,{rowsPerPageOptions:[10,25,50,100],component:"div",count:R,page:n,onChange:(e,t)=>P(t),rowsPerPage:T,onRowsPerPageChange:e=>{E(+e.target.value),P(0)}})]}),X&&(0,a.jsx)(y.Z,{maxWidth:"xs",fullWidth:!0,open:X,keepMounted:!0,onClose:()=>ee(),children:(0,a.jsx)(i.Z,{className:"newModalBorder",children:(0,a.jsxs)(i.Z,{className:"mainbox1",children:[(0,a.jsx)(k.Z,{children:(0,a.jsxs)(i.Z,{align:"center",children:[(0,a.jsx)(w.Z,{variant:"h2",style:{fontFamily:"Open Sans, sans-serif",fontWeight:"300",marginBottom:"16px"},children:(null==q?void 0:q.status)==="ACTIVE"?"Block":"Unblock"}),(0,a.jsx)(w.Z,{variant:"body2",style:{fontFamily:"'Open Sans', sans-serif"},children:(null==q?void 0:q.status)==="ACTIVE"?"Are you sure you want to blocked?":"Are you sure you want to unblocked?"})]})}),(0,a.jsx)(C.Z,{style:{alignContent:"center",justifyContent:"center"},children:(0,a.jsxs)(i.Z,{mt:2,mb:2,maxWidth:"400px",children:[(0,a.jsx)(S.Z,{className:"outlined",style:{padding:"8px 20px"},variant:"contained",color:"secondary",onClick:()=>ee(),disabled:J,children:"Cancel"}),"\xa0 \xa0",(0,a.jsx)(S.Z,{variant:"contained",color:"primary",className:"transparentbutton",style:{padding:"8px 20px"},onClick:()=>en(null==q?void 0:q._id),disabled:J,children:J?"Progess...":"Confirm"})]})})]})})})]})}}},function(e){e.O(0,[4885,4152,9990,3547,9043,5543,3575,8072,9292,7505,2888,9774,179],function(){return e(e.s=87841)}),_N_E=e.O()}]);