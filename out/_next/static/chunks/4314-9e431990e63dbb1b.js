"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4314],{94314:function(e,t,a){a.r(t),a.d(t,{default:function(){return I}});var n=a(85893),r=a(5616),o=a(86886),i=a(90629),l=a(15861),d=a(69417),s=a(67294),c=a(45098),u=a(45843),p=a(13362),h=a(94054),x=a(56815),f=a(55092),g=a(86501),v=a(87066);a(17650);var m=a(68611),b=a(28092),y=a(37265),T=a(34899),O=a(975);let D=(0,c.Z)(r.Z)(e=>{let{theme:t}=e;return{width:"100%","& p":{fontSize:"14px",fontWeight:"300"},"& .dropdownBack":{background:t.palette.background.paperBack},"& .MuiOutlinedInput-input":{color:"#FFFFFF66"},"& .MuiOutlinedInput-root-MuiSelect-root":{borderBottom:"none !important"},"& .MuiSelect-root":{padding:"14px !important"},"& .formBox":{"& p":{marginBottom:"5px",fontSize:"14px"}},"& .SwitchBox":{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"20px"}}});function j(e){let{open:t,setIsAutoTradeModal:a,type:o,botType:i}=e,c=(0,s.useContext)(m.Z),[j,Z]=(0,s.useState)([]),[S,I]=(0,s.useState)([]),[B,k]=(0,s.useState)([]),[F,w]=(0,s.useState)([]),[E,C]=(0,s.useState)(!1),[A,L]=(0,s.useState)(!0),[N,M]=(0,s.useState)(!1),[P,W]=(0,s.useState)([]),z=window.localStorage.getItem("token"),[K,R]=(0,s.useState)(!1),[_,U]=(0,s.useState)({exchange1:[],exchange2:[],orderType:""});(0,s.useEffect)(()=>{U({..._,exchange1:S||[],exchange2:B||[],orderType:F||[]})},[S,B]),(0,s.useEffect)(()=>{var e,t,a,n,r,l,d,s,u,p,h;let x;x="autoTradeSetting"==i?"autoTrade":"sniperBot",(null===(e=c.userData)||void 0===e?void 0:e[x])&&"Direct"==o?M(null===(r=c.userData)||void 0===r?void 0:null===(n=r[x])||void 0===n?void 0:n.direct):(null===(t=c.userData)||void 0===t?void 0:t[x])&&"Intra"==o?M(null===(d=c.userData)||void 0===d?void 0:null===(l=d[x])||void 0===l?void 0:l.intraSingleExchange):(null===(a=c.userData)||void 0===a?void 0:a[x])&&"Loop"==o?M(null===(u=c.userData)||void 0===u?void 0:null===(s=u[x])||void 0===s?void 0:s.loop):M(null===(h=c.userData)||void 0===h?void 0:null===(p=h[x])||void 0===p?void 0:p.triangular)},[c.userData]);let[H,Q]=(0,s.useState)({fromExchange:[],toExchange:[],toExchange1:[],capital:0,threshold:0,Minthreshold:0,fromCoins:[],toCoins:[]}),[G,Y]=(0,s.useState)(!0),q=async()=>{try{let e=await (0,b.j0)("autoTradeSetting"==i?"Direct"===o?"getDataAutoTradeOnOff":"Intra"===o?"getDataAutoTradeOnOffArb":"Loop"===o?"autoTradeOnOffLoop":"getDataAutoTradeOnOffTran":"Direct"===o?"getDataSniperBotOnOff":"Intra"===o?"sniperBotOnOffIntraArb":"Loop"===o?"sniperBotOnOffLoop":"getDataSniperBotOnOffTran");e&&(Q({capital:null==e?void 0:e.capital,Minthreshold:null==e?void 0:e.minThreshold}),"Direct"===o?I(null==e?void 0:e.exchange1):I(null==e?void 0:e.exchangeUID),k(null==e?void 0:e.exchange2),w(null==e?void 0:e.orderType))}catch(e){console.log(e)}},J=async()=>{if(R(!0),(null==H?void 0:H.capital)<50)return;let e="Direct"===o?{exchange1:null==_?void 0:_.exchange1,exchange2:null==_?void 0:_.exchange2,capital:Number(H.capital),minThreshold:Number(H.Minthreshold)}:"Loop"===o?{exchange1:null==_?void 0:_.exchange1,exchange2:null==_?void 0:_.exchange2,exchange3:H.toExchange1,capital:Number(H.capital),minThreshold:Number(H.Minthreshold)}:{exchangeUID:null==_?void 0:_.exchange1,capital:Number(H.capital),minThreshold:Number(H.Minthreshold),orderType:"LIMIT"};try{C(!0);let t=await (0,b.Kh)("autoTradeSetting"==i?"Direct"===o?"autoTradeOnOffDirectArb":"Intra"===o?"autoTradeOnOffIntraArb":"Loop"===o?"autoTradeOnOffLoop":"autoTradeOnOffTriangular":"Direct"===o?"sniperBotOnOffDirectArb":"Intra"===o?"sniperBotOnOffIntraArbOnOf":"Loop"===o?"sniperBotOnOffLoop":"sniperBotOnOffTriangular",e);200==t.status?(g.Am.success(t.data.responseMessage),c.getProfileDataHandler(window.localStorage.getItem("token")),q(),C(!1),a(!1)):(g.Am.error(t.data.responseMessage),C(!1))}catch(e){console.log(e),C(!1)}},V=async e=>{try{let e=await (0,v.Z)({method:"GET",url:y.lw.get_wallet_coinImageData,headers:{token:z}});if(200===e.data.responseCode){let t=e.data.result.map(e=>e.symbol.toUpperCase());W(t)}}catch(e){console.log(e)}};(0,s.useEffect)(()=>{N&&q()},[null==_?void 0:_.trade,N]),(0,s.useEffect)(()=>{V()},[]),(0,s.useEffect)(()=>{if(null==c?void 0:c.connectedExchangeList){let e=null==c?void 0:c.connectedExchangeList.map(e=>null==e?void 0:e.exchangeUID);Z(e),"Direct"===o||"Intra"===o?e.length<2?L(!1):L(!0):"Loop"===o?e.length<3?L(!1):L(!0):e.length<1?L(!1):L(!0)}},[null==c?void 0:c.connectedExchangeList,o]);let X=async()=>{var e,t,a,n,r,l,d,s;let u;"autoTradeSetting"==i?((null===(e=c.userData)||void 0===e?void 0:e.autoTrade)&&"Direct"==o&&(u="autoTradeOnOffDirectArb"),(null===(t=c.userData)||void 0===t?void 0:t.autoTrade)&&"Intra"==o&&(u="autoTradeOnOffIntraArb"),(null===(a=c.userData)||void 0===a?void 0:a.autoTrade)&&"Loop"==o&&(u="autoTradeOnOffLoop"),(null===(n=c.userData)||void 0===n?void 0:n.autoTrade)&&"Triangular"==o&&(u="autoTradeOnOffTriangular")):((null===(r=c.userData)||void 0===r?void 0:r.autoTrade)&&"Direct"==o&&(u="sniperBotOnOffDirectArb"),(null===(l=c.userData)||void 0===l?void 0:l.autoTrade)&&"Intra"==o&&(u="sniperBotOnOffIntraArbOnOf"),(null===(d=c.userData)||void 0===d?void 0:d.autoTrade)&&"Loop"==o&&(u="autoTradeOnOffLoop"),(null===(s=c.userData)||void 0===s?void 0:s.autoTrade)&&"Triangular"==o&&(u="sniperBotOnOffTriangular"));try{let e=await (0,b.Kh)(u);200==e.status&&(M(!1),U({exchange1:[],exchange2:[],orderType:""}),Q({fromExchange:[],toExchange:[],toExchange1:[],capital:0,threshold:0,Minthreshold:0,fromCoins:[],toCoins:[]}),R(!1),c.getProfileDataHandler(window.localStorage.getItem("token")),g.Am.success("Auto trade has been off successfully."))}catch(e){console.log(e)}};return(0,n.jsx)(D,{children:(0,n.jsxs)(r.Z,{children:[(0,n.jsxs)(r.Z,{className:"SwitchBox",mt:4.3,mb:4.3,children:[(0,n.jsx)(l.Z,{variant:"h6",color:"primary",children:"Auto- Off/On"}),(0,n.jsxs)(l.Z,{variant:"h6",color:"primary",sx:{display:"flex",alignItems:"center",flexDirection:"row"},children:[(0,n.jsx)("span",{style:{color:N?"":"red"},children:"Off"})," ","\xa0",(0,n.jsx)(u.Z,{onClick:()=>{N&&X()},checked:N,name:"checkedA",color:"primary",inputProps:{"aria-label":"primary checkbox"},sx:{pointerEvents:N?"auto":"none"}})," ","\xa0",(0,n.jsx)("span",{style:{color:N?"green":""},children:"On"})]})]}),(0,n.jsxs)(r.Z,{mt:2,children:[(0,n.jsx)(r.Z,{mb:1,children:(0,n.jsx)(l.Z,{variant:"body1",color:"rgba(255, 255, 255, 0.6)",children:"Exchange"})}),(0,n.jsx)(r.Z,{style:{width:"100%",position:"relative"},className:"autocompleBox",children:(0,n.jsx)(f.Z,{disabled:N,size:"small",multiple:!0,limitTags:10,options:j.filter(function(e){return 0==_.exchange1.filter(function(t){return t==e}).length}),value:null==_?void 0:_.exchange1,onChange:(e,t)=>{U({..._,exchange1:t})},renderInput:e=>(0,n.jsx)(p.Z,{...e,disabled:N,variant:"outlined",placeholder:"Select"})})})]}),"Direct"==o&&(0,n.jsxs)(r.Z,{mt:2,children:[(0,n.jsx)(r.Z,{mb:1,children:(0,n.jsx)(l.Z,{variant:"body1",color:"rgba(255, 255, 255, 0.6)",children:"Choose Your Second Exchange"})}),(0,n.jsx)(r.Z,{style:{width:"100%",position:"relative"},className:"autocompleBox",children:(0,n.jsx)(f.Z,{disabled:N,size:"small",multiple:!0,limitTags:10,value:null==_?void 0:_.exchange2,options:j.filter(function(e){return 0==_.exchange2.filter(function(t){return t==e}).length}),onChange:(e,t)=>{U({..._,exchange2:t})},renderInput:e=>(0,n.jsx)(p.Z,{...e,disabled:N,variant:"outlined",placeholder:"Select"})})})]}),(0,n.jsxs)(r.Z,{className:"formBox",mt:2.5,children:[(0,n.jsx)(r.Z,{mb:1,children:(0,n.jsx)(l.Z,{variant:"body1",color:"rgba(255, 255, 255, 0.6)",children:"Amount Per Trade"})}),(0,n.jsxs)(h.Z,{variant:"outlined",fullWidth:!0,children:[(0,n.jsx)(p.Z,{variant:"standard",name:"capital",type:"number",placeholder:"Enter here",value:null==H?void 0:H.capital,disabled:N,onChange:(e,t)=>{let a=e.target.value;(a>=0||""===a)&&Q({...H,capital:a}),R(!0)},error:K&&(null==H?void 0:H.capital)=="",onKeyPress:e=>{((null==e?void 0:e.key)==="-"||(null==e?void 0:e.key)==="+"||(null==e?void 0:e.key)==="*"||(null==e?void 0:e.key)==="/")&&e.preventDefault()},onKeyDown:e=>(0,T.Qy)(e)}),(0,n.jsxs)(x.Z,{error:!0,children:[" ",K&&(null==H?void 0:H.capital)!==""&&50>Number(null==H?void 0:H.capital)?"Capital should be 50 or greater than 50.":""]})]})]}),(0,n.jsxs)(r.Z,{className:"formBox",mt:2.5,mb:2.5,children:[(0,n.jsx)(r.Z,{mb:1,children:(0,n.jsx)(l.Z,{variant:"body1",color:"rgba(255, 255, 255, 0.6)",children:"Minimum Profit (USDT)"})}),(0,n.jsxs)(h.Z,{variant:"outlined",fullWidth:!0,children:[(0,n.jsx)(p.Z,{name:"Minthreshold",variant:"standard",placeholder:"Enter here",type:"number",style:{borderRadius:"8px"},value:null==H?void 0:H.Minthreshold,disabled:N,onChange:(e,t)=>{let a=e.target.value;(a>=0||""===a)&&(Q({...H,Minthreshold:a}),e.target.value>100?Y(!1):Y(!0))},onKeyPress:e=>{((null==e?void 0:e.key)==="-"||(null==e?void 0:e.key)==="+"||(null==e?void 0:e.key)==="*"||(null==e?void 0:e.key)==="/")&&e.preventDefault()},onKeyDown:e=>(0,T.Qy)(e)}),!G&&""!==H.Minthreshold&&(0,n.jsx)(x.Z,{error:!0,children:"Please enter valid value."})]})]}),(0,n.jsxs)(d.Z,{color:"primary",variant:"contained",size:"medium",disabled:N,onClick:()=>J(),children:["Send ",E&&(0,n.jsx)(O.Z,{})]})]})})}(0,c.Z)("div")({display:"flex",alignItems:"center"});let Z=(0,c.Z)(r.Z)(e=>{let{theme:t}=e;return{"& .filterpaperBox":{padding:"10px",marginTop:"40px",marginBottom:"40px",borderRadius:"10px",boxShadow:"none"},"& .tabBox":{display:"flex",background:"#FFFFFF08",borderRadius:"8px"},"& .tabButton":{fontSize:"15px !important",fontWeight:"400 !important",color:"#FFFFFF99 !important",whiteSpace:"pre",position:"relative",padding:"12px 37px","@media(max-width:767px)":{padding:"8px 12px"},"&:hover":{color:"#0C151D !important",background:"#FFFFFF !important"},"&.active":{fontFamily:"'Outfit', sans-serif",background:"#FFFFFF !important",lineHeight:"21.71px",borderBottom:"none !important",color:"#0C151D !important"}}}}),S=(e,t)=>{if(e===t){if("Direct"===t)return"8px 0px 0px 8px";if("Triangular"===t)return"0px 0px 0px 0px";if("Intra"===t)return"0px 8px 8px 0px"}return"0px"};function I(e){let{botType:t}=e,[a,c]=(0,s.useState)("Direct");return(0,n.jsx)(Z,{children:(0,n.jsx)(o.ZP,{container:!0,children:(0,n.jsx)(o.ZP,{item:!0,md:12,sm:12,xs:12,children:(0,n.jsxs)(i.Z,{elevation:2,className:"paperBox",children:[(0,n.jsx)(r.Z,{mb:2.5,children:(0,n.jsx)(l.Z,{variant:"h6",color:"primary",children:"Strategy"})}),(0,n.jsxs)(r.Z,{className:"tabBox",children:[(0,n.jsx)(d.Z,{fullWidth:!0,className:"tabButton ".concat("Direct"===a?"active":""),onClick:()=>c("Direct"),style:{borderRadius:S(a,"Direct")},children:"Direct Arbitrage"}),(0,n.jsx)(d.Z,{fullWidth:!0,className:"tabButton ".concat("Triangular"===a?"active":""),onClick:()=>c("Triangular"),style:{borderRadius:S(a,"Triangular")},children:"Triangular"}),(0,n.jsx)(d.Z,{fullWidth:!0,className:"tabButton ".concat("Intra"===a?"active":""),onClick:()=>c("Intra"),style:{borderRadius:S(a,"Intra")},children:"Intra"})]}),"Triangular"===a&&(0,n.jsx)(j,{type:"Triangular",botType:t}),"Intra"===a&&(0,n.jsx)(j,{type:"Intra",botType:t}),"Direct"===a&&(0,n.jsx)(j,{type:"Direct",botType:t})]})})})})}}}]);